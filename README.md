# Vue æºç é˜…è¯»

## å…ˆäº†è§£ä¸‹ä»€ä¹ˆæ˜¯è§‚å¯Ÿè€…æ¨¡å¼

### æ¦‚å¿µï¼š

å½“å¯¹è±¡é—´å­˜åœ¨ä¸€å¯¹å¤šå…³ç³»æ—¶ï¼Œåˆ™ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰ã€‚æ¯”å¦‚ï¼Œå½“ä¸€ä¸ªå¯¹è±¡è¢«ä¿®æ”¹æ—¶ï¼Œåˆ™ä¼šè‡ªåŠ¨é€šçŸ¥å®ƒçš„ä¾èµ–å¯¹è±¡ã€‚è§‚å¯Ÿè€…æ¨¡å¼å±äºè¡Œä¸ºå‹æ¨¡å¼ã€‚

### é€šä¿—å¤§ç™½è¯

ä¹˜ååœ°é“ğŸš‡, åœ°é“ï¼ˆsubsï¼‰æ‰¿è½½Nä¹˜å®¢ï¼ˆWatcher è§‚å¯Ÿè€…), å½“å¿«åˆ°è¾¾æŸä¸ªç«™å°çš„æ—¶å€™ï¼ˆå¥½æ¯”æ•°æ®çŠ¶æ€å‘ç”Ÿäº†å˜åŒ–ï¼‰ï¼Œä¼šè¿›è¡Œå¹¿æ’­ğŸ“¢ï¼Œé€šçŸ¥åˆ°æ¯ä¸ªä¹˜å®¢å‰æ–¹ XX ç«™å°†è¦åˆ°è¾¾ï¼Œè¯·éœ€è¦ä¸‹è½¦çš„ä¹˜å®¢åšå¥½æå‰å‡†å¤‡ï¼ŒæŠµè¾¾ç«™å°ğŸš‰ï¼Œä¹˜å®¢ä¸‹è½¦ï¼ˆä¹˜å®¢è¿™ä¸ªå¯¹è±¡ï¼Œæ•°æ®å‘ç”Ÿæ”¹å˜ï¼‰ï¼ŒåŸºæœ¬å°±æ˜¯è¿™ä¹ˆä¸ªæ„æ€ã€‚

### ä¸»è¦è§£å†³ï¼š

ä¸€ä¸ªå¯¹è±¡çŠ¶æ€æ”¹å˜ç»™å…¶ä»–å¯¹è±¡é€šçŸ¥çš„é—®é¢˜ï¼Œè€Œä¸”è¦è€ƒè™‘åˆ°æ˜“ç”¨å’Œä½è€¦åˆï¼Œä¿è¯é«˜åº¦çš„åä½œã€‚

### ä½•æ—¶ä½¿ç”¨ï¼š

ä¸€ä¸ªå¯¹è±¡ï¼ˆç›®æ ‡å¯¹è±¡ï¼‰çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜ï¼Œæ‰€æœ‰çš„ä¾èµ–å¯¹è±¡ï¼ˆè§‚å¯Ÿè€…å¯¹è±¡ï¼‰éƒ½å°†å¾—åˆ°é€šçŸ¥ï¼Œè¿›è¡Œå¹¿æ’­é€šçŸ¥ã€‚

### å¦‚ä½•è§£å†³ï¼š

ä½¿ç”¨é¢å‘å¯¹è±¡æŠ€æœ¯ï¼Œå¯ä»¥å°†è¿™ç§ä¾èµ–å…³ç³»å¼±åŒ–ã€‚

### å…³é”®ä»£ç ï¼š

åœ¨æŠ½è±¡ç±»é‡Œæœ‰ä¸€ä¸ª ArrayList å­˜æ”¾è§‚å¯Ÿè€…ä»¬ã€‚

### åº”ç”¨å®ä¾‹ï¼š

1ã€æ‹å–çš„æ—¶å€™ï¼Œæ‹å–å¸ˆè§‚å¯Ÿæœ€é«˜æ ‡ä»·ï¼Œç„¶åé€šçŸ¥ç»™å…¶ä»–ç«ä»·è€…ç«ä»·ã€‚

### ä¼˜ç‚¹ï¼š

1ã€è§‚å¯Ÿè€…å’Œè¢«è§‚å¯Ÿè€…æ˜¯æŠ½è±¡è€¦åˆçš„ã€‚
2ã€å»ºç«‹ä¸€å¥—è§¦å‘æœºåˆ¶

### ç¼ºç‚¹ï¼š

1ã€å¦‚æœä¸€ä¸ªè¢«è§‚å¯Ÿè€…å¯¹è±¡æœ‰å¾ˆå¤šçš„ç›´æ¥å’Œé—´æ¥çš„è§‚å¯Ÿè€…çš„è¯ï¼Œå°†æ‰€æœ‰çš„è§‚å¯Ÿè€…éƒ½é€šçŸ¥åˆ°ä¼šèŠ±è´¹å¾ˆå¤šæ—¶é—´ã€‚
2ã€å¦‚æœåœ¨è§‚å¯Ÿè€…å’Œè§‚å¯Ÿç›®æ ‡ä¹‹é—´æœ‰å¾ªç¯ä¾èµ–çš„è¯ï¼Œè§‚å¯Ÿç›®æ ‡ä¼šè§¦å‘å®ƒä»¬ä¹‹é—´è¿›è¡Œå¾ªç¯è°ƒç”¨ï¼Œå¯èƒ½å¯¼è‡´ç³»ç»Ÿå´©æºƒã€‚
3ã€è§‚å¯Ÿè€…æ¨¡å¼æ²¡æœ‰ç›¸åº”çš„æœºåˆ¶è®©è§‚å¯Ÿè€…çŸ¥é“æ‰€è§‚å¯Ÿçš„ç›®æ ‡å¯¹è±¡æ˜¯æ€ä¹ˆå‘ç”Ÿå˜åŒ–çš„ï¼Œè€Œä»…ä»…åªæ˜¯çŸ¥é“è§‚å¯Ÿç›®æ ‡å‘ç”Ÿäº†å˜åŒ–ã€‚

### ä½¿ç”¨åœºæ™¯ï¼š

* ä¸€ä¸ªæŠ½è±¡æ¨¡å‹æœ‰ä¸¤ä¸ªæ–¹é¢ï¼Œå…¶ä¸­ä¸€ä¸ªæ–¹é¢ä¾èµ–äºå¦ä¸€ä¸ªæ–¹é¢ã€‚å°†è¿™äº›æ–¹é¢å°è£…åœ¨ç‹¬ç«‹çš„å¯¹è±¡ä¸­ä½¿å®ƒä»¬å¯ä»¥å„è‡ªç‹¬ç«‹åœ°æ”¹å˜å’Œå¤ç”¨ã€‚
* ä¸€ä¸ªå¯¹è±¡çš„æ”¹å˜å°†å¯¼è‡´å…¶ä»–ä¸€ä¸ªæˆ–å¤šä¸ªå¯¹è±¡ä¹Ÿå‘ç”Ÿæ”¹å˜ï¼Œè€Œä¸çŸ¥é“å…·ä½“æœ‰å¤šå°‘å¯¹è±¡å°†å‘ç”Ÿæ”¹å˜ï¼Œå¯ä»¥é™ä½å¯¹è±¡ä¹‹é—´çš„è€¦åˆåº¦ã€‚
* ä¸€ä¸ªå¯¹è±¡å¿…é¡»é€šçŸ¥å…¶ä»–å¯¹è±¡ï¼Œè€Œå¹¶ä¸çŸ¥é“è¿™äº›å¯¹è±¡æ˜¯è°ã€‚
* éœ€è¦åœ¨ç³»ç»Ÿä¸­åˆ›å»ºä¸€ä¸ªè§¦å‘é“¾ï¼ŒAå¯¹è±¡ çš„è¡Œä¸ºå°†å½±å“ Bå¯¹è±¡ï¼ŒBå¯¹è±¡ çš„è¡Œä¸ºå°†å½±å“ Cå¯¹è±¡â€¦â€¦ï¼Œå¯ä»¥ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼åˆ›å»ºä¸€ç§é“¾å¼è§¦å‘æœºåˆ¶ã€‚

> æ³¨æ„äº‹é¡¹ï¼š 1ã€JAVA ä¸­å·²ç»æœ‰äº†å¯¹è§‚å¯Ÿè€…æ¨¡å¼çš„æ”¯æŒç±»ã€‚ 2ã€é¿å…å¾ªç¯å¼•ç”¨ã€‚ 3ã€å¦‚æœé¡ºåºæ‰§è¡Œï¼ŒæŸä¸€è§‚å¯Ÿè€…é”™è¯¯ä¼šå¯¼è‡´ç³»ç»Ÿå¡å£³ï¼Œä¸€èˆ¬é‡‡ç”¨å¼‚æ­¥æ–¹å¼ã€‚

ä¸Šè¯‰æè¿°ï¼Œæ‘˜æŠ„è‡ª[runoob](http://www.runoob.com/design-pattern/observer-pattern.html)

## ç›¸å…³ä»‹ç»

```js

/**
 *  obj: ç›®æ ‡å¯¹è±¡
 *  prop: éœ€è¦æ“ä½œçš„ç›®æ ‡å¯¹è±¡çš„å±æ€§å
 *  descriptor: æè¿°ç¬¦
 *  return value ä¼ å…¥å¯¹è±¡
 */
Object.defineProperty(obj, prop, descriptor);
```

### å¯åŠ¨é¡¹ç›®

```js
# æ‹‰å–é¡¹ç›®åˆ°æœ¬åœ°
$ git clone git@github.com:Twitchboy/vue_source_code_analysis.git

# å®‰è£…ä¾èµ–
$ npm install

# å¯åŠ¨æœ¬åœ°æœåŠ¡
$ npm run dev
```
